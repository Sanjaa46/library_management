{"version":3,"file":"ForgotPassword-BvQR7FhY.js","sources":["../../../../frontend/src/pages/ForgotPassword.vue"],"sourcesContent":["<template>\n  <div class=\"max-w-[100%] m-3 grid grid-cols-1 h-screen\">\n    <Card title=\"Login to your FrappeUI App!\" class=\"w-full max-w-md m-auto bg-[#f7f4f0] z-10 px-12 py-10 rounded-xl shadow-lg\">\n        <h2 class=\"text-3xl font-medium text-center\">Forgot Password?</h2>\n        <div class=\"text-sm text-center text-gray-500 my-3 hover:underline\">\n            No worries, we will send you reset link.\n        </div>\n        <form class=\"flex flex-col space-y-5 w-full\" @submit.prevent=\"sendResetLink\">\n            <Input\n            required\n            v-model=\"email\"\n            name=\"email\"\n            type=\"text\"\n            placeholder=\"Email\"\n            />\n            <a href=\"/frontend/account/login\" class=\"text-sm text-center text-gray-500 cursor-pointer hover:underline\">\n                Back to log in\n            </a>\n            <Button variant=\"solid\" class=\"bg-[#007C91] text-white py-2 rounded hover:bg-[#006273] transition\">\n                Reset Password\n            </Button>\n        </form>\n    </Card>\n</div>\n\n</template>\n\n\n<script setup>\nimport { ref } from 'vue';\nimport { useRouter } from 'vue-router';\n\nconst router = useRouter()\n\nconst email = ref(\"\")\n\nasync function sendResetLink() {\n    if (!email.value) {\n        alert(\"Email is required!\")\n        return\n    }\n\n    try {\n        const url = `/api/method/library_management.api.forgot_password?email=${email.value}`\n\n        const response = await fetch(url, {\n            method: 'POST'\n        })\n        const data = await response.json();\n        if(data.message.success) {\n            alert(\"Reset link sent!\")\n            router.replace(\"/frontend/account/login\")\n        }\n    } catch(error) {\n        alert(\"User not found!\");\n    }\n}\n\n</script>"],"names":["router","useRouter","email","ref","sendResetLink","__async","url","error","_openBlock","_createElementBlock","_hoisted_1","_createVNode","_component_Card","_cache","_createElementVNode","_component_Input","$event","_component_Button"],"mappings":"qZAgCA,MAAMA,EAASC,EAAS,EAElBC,EAAQC,EAAI,EAAE,EAEpB,SAAeC,GAAgB,QAAAC,EAAA,sBAC3B,GAAI,CAACH,EAAM,MAAO,CACd,MAAM,oBAAoB,EAC1B,MACJ,CAEA,GAAI,CACA,MAAMI,EAAM,4DAA4DJ,EAAM,KAAK,IAKtE,MAHI,MAAM,MAAMI,EAAK,CAC9B,OAAQ,MACpB,CAAS,GAC2B,KAAI,GACxB,QAAQ,UACZ,MAAM,kBAAkB,EACxBN,EAAO,QAAQ,yBAAyB,EAEhD,OAAQO,EAAO,CACX,MAAM,iBAAiB,CAC3B,CACJ,8DAvDE,OAAAC,EAAA,EAAAC,EAsBI,MAtBJC,EAsBI,CArBFC,EAoBOC,EAAA,CApBD,MAAM,8BAA8B,MAAM,wFAC5C,IAAkE,CAAlEC,EAAA,CAAA,IAAAA,EAAA,CAAA,EAAAC,EAAkE,KAAA,CAA9D,MAAM,kCAAkC,EAAC,mBAAgB,EAAA,GAC7DD,EAAA,CAAA,IAAAA,EAAA,CAAA,EAAAC,EAEM,MAAA,CAFD,MAAM,wDAAwD,EAAC,6CAEpE,EAAA,GACAA,EAcO,OAAA,CAdD,MAAM,iCAAkC,WAAgBV,EAAa,CAAA,SAAA,CAAA,IACvEO,EAMEI,EAAA,CALF,SAAA,cACSb,EAAA,2CAAAA,EAAK,MAAAc,GACd,KAAK,QACL,KAAK,OACL,YAAY,4CAEZF,EAEI,IAAA,CAFD,KAAK,0BAA0B,MAAM,oEAAmE,mBAE3G,EAAA,GACAH,EAESM,EAAA,CAFD,QAAQ,QAAQ,MAAM,iFAAqE,IAEnG,CAAA,GAAAJ,EAAA,CAAA,IAAAA,EAAA,CAAA,EAAA,GAFmG,mBAEnG,EAAA"}