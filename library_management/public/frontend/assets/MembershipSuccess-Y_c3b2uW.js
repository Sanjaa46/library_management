var d=(f,l,t)=>new Promise((a,n)=>{var c=s=>{try{r(t.next(s))}catch(e){n(e)}},u=s=>{try{r(t.throw(s))}catch(e){n(e)}},r=s=>s.done?a(s.value):Promise.resolve(s.value).then(c,u);r((t=t.apply(f,l)).next())});import{_ as x,a as v}from"./Footer-CncQ4b4I.js";import{I as y,H as b,r as m,a as _,C as g,l as h,m as w,q as p,n as o,v as k,G as B,F as C}from"./index-_fl2myAl.js";const V="/assets/library_management/frontend/assets/success-FpaVc_vs.png",M={class:"flex flex-col items-center justify-center max-w-[1120px] h-[600px] mx-auto my-15"},E={__name:"MembershipSuccess",setup(f){const l=y(),t=b(),a=m(""),n=m(!1),c=m("");_(()=>{a.value=t.query.session_id,a.value?u(a.value):console.error("No session ID found")});function u(s){return d(this,null,function*(){n.value=!0;try{const i=yield(yield fetch(`/api/method/library_management.api.verify_checkout_session?session_id=${s.value}`,{credentials:"include",method:"GET"})).json();i.message&&i.message.verified&&console.log("Payment verified")}catch(e){c.value="Could not verify payment. Please contact support.",console.error("verification error: ",e)}finally{n.value=!1}})}function r(){l.push("/frontend")}return(s,e)=>{const i=g("Button");return w(),h(C,null,[p(x),e[4]||(e[4]=o("div",{class:"w-[1120px] my-8 mx-auto text-[24px] font-bold relative"},[o("div",{class:"absolute w-1 h-12 bg-[#118ab2] left-0"}),o("h1",{class:"text-4xl font-bold pl-5 pt-2"},"Membership Success")],-1)),o("section",M,[e[1]||(e[1]=o("img",{src:V,class:"w-[400px] h-[400px]",alt:"Membership Success"},null,-1)),e[2]||(e[2]=o("h2",{class:"text-2xl font-bold mt-[30px]"},"Thank you for your membership!",-1)),e[3]||(e[3]=o("p",{class:"text-lg"},"You can now access library resources.",-1)),p(i,{variant:"solid",class:"bg-[#118ab2] hover:bg-[#016475] text-white-overlay-900 rounded-[10px] w-[200px] h-[40px] mt-[30px]",onClick:r},{default:k(()=>[...e[0]||(e[0]=[B(" Go to Library ",-1)])]),_:1})]),p(v)],64)}}};export{E as default};
//# sourceMappingURL=MembershipSuccess-Y_c3b2uW.js.map
