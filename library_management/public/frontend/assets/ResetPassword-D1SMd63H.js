var c=(m,l,o)=>new Promise((a,t)=>{var d=e=>{try{s(o.next(e))}catch(r){t(r)}},n=e=>{try{s(o.throw(e))}catch(r){t(r)}},s=e=>e.done?a(e.value):Promise.resolve(e.value).then(d,n);s((o=o.apply(m,l)).next())});import{H as x,I as v,r as i,a as y,C as u,l as h,m as k,q as p,v as f,n as w,D as C,G as P}from"./index-Cf6cM8O6.js";const R={class:"max-w-[100%] m-3 grid grid-cols-1 h-screen"},B={__name:"ResetPassword",setup(m){const l=x(),o=v(),a=i(""),t=i("");y(()=>c(this,null,function*(){t.value=l.query.token,t.value||(alert("Reset password token not found!"),o.replace("/frontend/account/login"))}));function d(){return c(this,null,function*(){try{const n=`/api/method/library_management.api.reset_password?token=${t.value}&new_password=${a.value}`,e=yield(yield fetch(n,{method:"POST"})).json();console.log(e.message.message),e.message.success,alert(e.message.message),o.replace("/frontend/account/login")}catch(n){alert("Failed to reset password!"),o.replace("/frontend/account/login")}})}return(n,s)=>{const e=u("Input"),r=u("Button"),g=u("Card");return k(),h("div",R,[p(g,{title:"Login to your FrappeUI App!",class:"w-full max-w-md m-auto bg-[#f7f4f0] z-10 px-12 py-10 rounded-xl shadow-lg"},{default:f(()=>[s[2]||(s[2]=w("h2",{class:"text-3xl font-medium text-center"},"Reset Password",-1)),w("form",{class:"flex flex-col space-y-5 w-full",onSubmit:C(d,["prevent"])},[p(e,{required:"",modelValue:a.value,"onUpdate:modelValue":s[0]||(s[0]=_=>a.value=_),name:"password",type:"password",placeholder:"New password",class:"h-10 my-3"},null,8,["modelValue"]),p(r,{variant:"solid",class:"bg-[#007C91] text-white py-2 rounded hover:bg-[#006273] transition"},{default:f(()=>[...s[1]||(s[1]=[P(" Reset Password ",-1)])]),_:1})],32)]),_:1})])}}};export{B as default};
//# sourceMappingURL=ResetPassword-D1SMd63H.js.map
