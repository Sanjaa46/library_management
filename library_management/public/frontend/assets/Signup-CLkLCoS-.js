var x=(f,p,n)=>new Promise((c,u)=>{var g=t=>{try{d(n.next(t))}catch(o){u(o)}},r=t=>{try{d(n.throw(t))}catch(o){u(o)}},d=t=>t.done?c(t.value):Promise.resolve(t.value).then(g,r);d((n=n.apply(f,p)).next())});import{r as m,B as v,l as b,m as y,n as a,q as s,v as w,C as S,G as U}from"./index-BOLl13Oy.js";const C={class:"m-3 grid grid-cols-2 h-screen"},q={class:"flex items-center justify-center"},P={__name:"Signup",setup(f){const p=m(""),n=m(""),c=m(""),u=m(""),g=m(""),r=m(""),d=m("");function t(){return x(this,null,function*(){if(r.value!==d.value){alert("Passwords do not match!");return}if(!r.value||r.value.length<8){alert("Password must be at least 8 characters");return}console.log("Email:",u.value),console.log("Timestamp:",new Date().toISOString());try{const o=yield fetch("http://localhost:8000/api/method/library_management.auth.signup_user",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({first_name:p.value,last_name:n.value,email:u.value,phone:g.value,password:r.value})});console.log("Response Status:",o.status),console.log("Response OK:",o.ok);const e=yield o.json();console.log("Response Data:",e),e.message&&e.message.success===!0?(alert("Signup successful!"),window.location.href="/frontend/account/login"):(console.error("Signup failed"),console.error("Response structure:",JSON.stringify(e,null,2)))}catch(o){console.error("Signup error occurred:",o),console.error("Error details:",{name:o.name,message:o.message,stack:o.stack}),alert("Signup failed. Please check console for details.")}})}return(o,e)=>{const i=v("Input"),V=v("Button"),h=v("Card");return y(),b("div",C,[e[11]||(e[11]=a("div",{class:"relative overflow-hidden -m-10"},[a("div",{class:"bg-[#2C3E50] w-[100%] h-[120%] absolute top-[-200px] right-[-0px] rotate-[12deg] origin-top-right rounded-tl-[20px]"}),a("div",{class:"bg-[#254B71] w-[105%] h-[50%] absolute bottom-[-150px] right-[100px] rotate-[15deg] origin-bottom-left rounded-[20px]"}),a("div",{class:"bg-[#577592] w-[85%] h-[60%] absolute top-[-380px] right-[48px] rotate-[-12deg] rounded-[20px]"})],-1)),a("div",q,[s(h,{title:"Login to your FrappeUI App!",class:"w-full max-w-md bg-[#f7f4f0] z-10 px-12 py-10 rounded-xl shadow-lg"},{default:w(()=>[e[9]||(e[9]=a("h2",{class:"text-xl font-medium text-center mb-8"},"Sign Up",-1)),a("form",{class:"flex flex-col space-y-5 w-full",onSubmit:e[7]||(e[7]=S((...l)=>o.submit&&o.submit(...l),["prevent"]))},[s(i,{required:"",modelValue:p.value,"onUpdate:modelValue":e[0]||(e[0]=l=>p.value=l),name:"first_name",type:"text",placeholder:"First name"},null,8,["modelValue"]),s(i,{required:"",modelValue:n.value,"onUpdate:modelValue":e[1]||(e[1]=l=>n.value=l),name:"last_name",type:"text",placeholder:"Last name"},null,8,["modelValue"]),s(i,{required:"",modelValue:c.value,"onUpdate:modelValue":e[2]||(e[2]=l=>c.value=l),name:"username",type:"text",placeholder:"User name"},null,8,["modelValue"]),s(i,{required:"",modelValue:u.value,"onUpdate:modelValue":e[3]||(e[3]=l=>u.value=l),name:"email",type:"text",placeholder:"Email"},null,8,["modelValue"]),s(i,{required:"",modelValue:g.value,"onUpdate:modelValue":e[4]||(e[4]=l=>g.value=l),name:"phone",type:"number",placeholder:"Phone"},null,8,["modelValue"]),s(i,{required:"",modelValue:r.value,"onUpdate:modelValue":e[5]||(e[5]=l=>r.value=l),name:"password",type:"password",placeholder:"Password"},null,8,["modelValue"]),s(i,{required:"",modelValue:d.value,"onUpdate:modelValue":e[6]||(e[6]=l=>d.value=l),name:"re-password",type:"password",placeholder:"Re-enter Password"},null,8,["modelValue"]),s(V,{onClick:t,variant:"solid",class:"bg-[#007C91] text-white py-2 rounded hover:bg-[#006273] transition"},{default:w(()=>[...e[8]||(e[8]=[U(" Sign up ",-1)])]),_:1})],32),e[10]||(e[10]=a("div",{class:"text-center mt-6 text-sm"},[a("a",{href:"/account/login",class:"text-blue-600 hover:underline"}," Sign in ")],-1))]),_:1})])])}}};export{P as default};
//# sourceMappingURL=Signup-CLkLCoS-.js.map
