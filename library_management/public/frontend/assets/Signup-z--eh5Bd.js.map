{"version":3,"file":"Signup-z--eh5Bd.js","sources":["../../../../frontend/src/pages/Signup.vue"],"sourcesContent":["<template>\n  <div class=\"m-3 grid grid-cols-2 h-screen\">\n    <!-- LEFT SIDE: Shapes -->\n    <div class=\"relative overflow-hidden -m-10\">\n      <div class=\"bg-[#2C3E50] w-[100%] h-[120%] absolute top-[-200px] right-[-0px] rotate-[12deg] origin-top-right rounded-tl-[20px]\"></div>\n\n      <div class=\"bg-[#254B71] w-[105%] h-[50%] absolute bottom-[-150px] right-[100px] rotate-[15deg] origin-bottom-left rounded-[20px]\"></div>\n\n      <div class=\"bg-[#577592] w-[85%] h-[60%] absolute top-[-380px] right-[48px] rotate-[-12deg] rounded-[20px]\"></div>\n    </div> \n\n    <!-- RIGHT SIDE -->\n    <div class=\"flex items-center justify-center\">\n      <Card title=\"Login to your FrappeUI App!\" class=\"w-full max-w-md bg-[#f7f4f0] z-10 px-12 py-10 rounded-xl shadow-lg\">\n        <h2 class=\"text-xl font-medium text-center mb-8\">Sign Up</h2>\n        <form class=\"flex flex-col space-y-5 w-full\" @submit.prevent=\"submit\">\n          <Input\n            required\n            v-model=\"first_name\"\n            name=\"first_name\"\n            type=\"text\"\n            placeholder=\"First name\"\n          />\n          <Input\n            required\n            v-model=\"last_name\"\n            name=\"last_name\"\n            type=\"text\"\n            placeholder=\"Last name\"\n          />\n          <Input\n            required\n            v-model=\"username\"\n            name=\"username\"\n            type=\"text\"\n            placeholder=\"User name\"\n          />\n          <Input\n            required\n            v-model=\"email\"\n            name=\"email\"\n            type=\"text\"\n            placeholder=\"Email\"\n          />\n          <Input\n            required\n            v-model=\"phone\"\n            name=\"phone\"\n            type=\"number\"\n            placeholder=\"Phone\"\n          />\n          <Input\n            required\n            v-model=\"password\"\n            name=\"password\"\n            type=\"password\"\n            placeholder=\"Password\"\n          />\n          <Input\n            required\n            v-model=\"re_password\"\n            name=\"re-password\"\n            type=\"password\"\n            placeholder=\"Re-enter Password\"\n          />\n          <Button @click=\"handleSignup\" variant=\"solid\" class=\"bg-[#007C91] text-white py-2 rounded hover:bg-[#006273] transition\">\n            Sign up\n          </Button>\n        </form>\n        <div class=\"text-center mt-6 text-sm\">\n          <a href=\"/account/login\" class=\"text-blue-600 hover:underline\">\n            Sign in\n          </a>\n        </div>\n      </Card>\n    </div>\n  </div>\n\n\n</template>\n\n<script setup>\nimport { ref } from 'vue';\n\nconst first_name = ref(\"\")\nconst last_name = ref(\"\")\nconst username = ref(\"\")\nconst email = ref(\"\")\nconst phone = ref(\"\")\nconst password = ref(\"\")\nconst re_password = ref(\"\")\n\n\n\nasync function handleSignup() {\n  if (password.value !== re_password.value) {\n    alert('Passwords do not match!')\n    return\n  }\n\n  if (!password.value || password.value.length < 8) {\n    alert('Password must be at least 8 characters')\n    return\n  }\n\n  console.log('Email:', email.value)\n  console.log('Timestamp:', new Date().toISOString())\n  \n  try {\n    const response = await fetch('http://localhost:8000/api/method/library_management.auth.signup_user', {\n      method: 'POST',\n      headers: { 'Content-Type': 'application/json', },\n      body: JSON.stringify({\n        first_name: first_name.value,\n        last_name: last_name.value,\n        email: email.value,\n        phone: phone.value,\n        password: password.value,\n      })\n    })\n    \n    console.log('Response Status:', response.status)\n    console.log('Response OK:', response.ok)\n    \n    const data = await response.json()\n    console.log('Response Data:', data)\n\n    if (data.message && data.message.success === true) {\n      alert('Signup successful!')\n      window.location.href = \"/frontend/account/login\"\n    } else {\n      console.error('Signup failed')\n      console.error('Response structure:', JSON.stringify(data, null, 2))\n    }\n  } catch (error) {\n    console.error('Signup error occurred:', error)\n    console.error('Error details:', {\n      name: error.name,\n      message: error.message,\n      stack: error.stack\n    })\n    alert('Signup failed. Please check console for details.')\n  }\n}\n\n</script>"],"names":["first_name","ref","last_name","username","email","phone","password","re_password","handleSignup","__async","response","data","error","_openBlock","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","_createVNode","_component_Card","_cache","_ctx","args","_component_Input","$event","_component_Button"],"mappings":"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"}